---
title: "Upsert Contact"
openapi: "POST /contacts/email"
---

<RequestExample>

```bash cURL
curl --request POST \
  --url https://api.autosend.com/v1/contacts/email \
  --header 'Authorization: Bearer <token>' \
  --header 'Content-Type: application/json' \
  --data '{
  "email": "john.doe@example.com",
  "firstName": "John",
  "lastName": "Doe",
  "userId": "user_12345",
  "customFields": {
    "company": "Acme Corp",
    "role": "Developer",
    "plan": "premium"
  }
}'
```


```python Python
import requests

url = "https://api.autosend.com/v1/contacts/email"

headers = {
    "Authorization": "Bearer <token>",
    "Content-Type": "application/json"
}

payload = {
    "email": "john.doe@example.com",
    "firstName": "John",
    "lastName": "Doe",
    "userId": "user_12345",
    "customFields": {
        "company": "Acme Corp",
        "role": "Developer",
        "plan": "premium"
    }
}

response = requests.post(url, json=payload, headers=headers)
print(response.json())
```


```javascript JavaScript
fetch('https://api.autosend.com/v1/contacts/email', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer <token>',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    email: 'john.doe@example.com',
    firstName: 'John',
    lastName: 'Doe',
    userId: 'user_12345',
    customFields: {
      company: 'Acme Corp',
      role: 'Developer',
      plan: 'premium'
    }
  })
})
  .then(response => response.json())
  .then(data => console.log(data))
  .catch(error => console.error('Error:', error));
```


```php PHP
<?php

$url = 'https://api.autosend.com/v1/contacts/email';

$data = [
    'email' => 'john.doe@example.com',
    'firstName' => 'John',
    'lastName' => 'Doe',
    'userId' => 'user_12345',
    'customFields' => [
        'company' => 'Acme Corp',
        'role' => 'Developer',
        'plan' => 'premium'
    ]
];

$ch = curl_init($url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Authorization: Bearer <token>',
    'Content-Type: application/json'
]);

$response = curl_exec($ch);
curl_close($ch);

echo $response;
?>
```


```go Go
package main

import (
    "bytes"
    "encoding/json"
    "fmt"
    "net/http"
)

func main() {
    url := "https://api.autosend.com/v1/contacts/email"
    
    payload := map[string]interface{}{
        "email":     "john.doe@example.com",
        "firstName": "John",
        "lastName": "Doe",
        "userId":    "user_12345",
        "customFields": map[string]string{
            "company": "Acme Corp",
            "role":    "Developer",
            "plan":    "premium",
        },
    }
    
    jsonData, _ := json.Marshal(payload)
    
    req, _ := http.NewRequest("POST", url, bytes.NewBuffer(jsonData))
    req.Header.Set("Authorization", "Bearer <token>")
    req.Header.Set("Content-Type", "application/json")
    
    client := &http.Client{}
    resp, err := client.Do(req)
    if err != nil {
        fmt.Println("Error:", err)
        return
    }
    defer resp.Body.Close()
    
    fmt.Println("Response Status:", resp.Status)
}
```


```java Java
import java.io.OutputStream;
import java.net.HttpURLConnection;
import java.net.URL;
import java.nio.charset.StandardCharsets;

public class UpsertContact {
    public static void main(String[] args) {
        try {
            URL url = new URL("https://api.autosend.com/v1/contacts/email");
            HttpURLConnection con = (HttpURLConnection) url.openConnection();
            
            con.setRequestMethod("POST");
            con.setRequestProperty("Authorization", "Bearer <token>");
            con.setRequestProperty("Content-Type", "application/json");
            con.setDoOutput(true);
            
            String jsonInputString = "{\n" +
                "  \"email\": \"john.doe@example.com\",\n" +
                "  \"firstName\": \"John\",\n" +
                "  \"lastName\": \"Doe\",\n" +
                "  \"userId\": \"user_12345\",\n" +
                "  \"customFields\": {\n" +
                "    \"company\": \"Acme Corp\",\n" +
                "    \"role\": \"Developer\",\n" +
                "    \"plan\": \"premium\"\n" +
                "  }\n" +
                "}";
            
            try (OutputStream os = con.getOutputStream()) {
                byte[] input = jsonInputString.getBytes(StandardCharsets.UTF_8);
                os.write(input, 0, input.length);
            }
            
            int status = con.getResponseCode();
            System.out.println("Response Status: " + status);
            
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```


```ruby Ruby
require 'net/http'
require 'json'
require 'uri'

uri = URI('https://api.autosend.com/v1/contacts/email')

http = Net::HTTP.new(uri.host, uri.port)
http.use_ssl = true

request = Net::HTTP::Post.new(uri.path)
request['Authorization'] = 'Bearer <token>'
request['Content-Type'] = 'application/json'

request.body = {
  email: 'john.doe@example.com',
  firstName: 'John',
  lastName: 'Doe',
  userId: 'user_12345',
  customFields: {
    company: 'Acme Corp',
    role: 'Developer',
    plan: 'premium'
  }
}.to_json

response = http.request(request)
puts response.body
```

</RequestExample>

<ResponseExample>

```json Response
{
  "success": true,
  "data": {
    "id": "507f1f77bcf86cd799439011",
    "email": "john.doe@example.com",
    "firstName": "John",
    "lastName": "Doe",
    "userId": "user_12345",
    "customFields": {
      "company": "Acme Corp",
      "role": "Developer",
      "plan": "premium"
    },
    "updatedAt": "2024-01-15T10:30:00.000Z",
    "createdAt": "2024-01-15T10:30:00.000Z",
    "projectId": "229f1f77bcf86cd9273048038"
  }
}
```

</ResponseExample>

---

#### Authorizations

<ParamField path="Authorizations" type="string | header" required>
  Bearer authentication header of the form Bearer `<token>`, where `<token>` is your auth token.
</ParamField>

### Body

Contact information to create or update

<ParamField path="email" type="string<email>" required>
  Valid email address (automatically normalized to lowercase)

  Example: `"john.doe@example.com"`
</ParamField>

<ParamField path="firstName" type="string">
  Contact's first name

  Example: `"John"`
</ParamField>

<ParamField path="lastName" type="string">
  Contact's last name

  Example: `"Doe"`
</ParamField>

<ParamField path="userId" type="string">
  Your application's user identifier

  Example: `"user_12345"`
</ParamField>

<ParamField path="customFields" type="object">
  Key-value pairs for custom contact attributes

  <Expandable title="child attributes">
    <ResponseField name="customFields.{key}" type="string">
      
    </ResponseField>
  </Expandable>
  Example:

  ```jsx
  {
    "company": "Acme Corp",
    "role": "Developer",
    "plan": "premium"
  }
  ```
</ParamField>

#### Response

<span className="text-sm">
Contact created or updated successfully</span>

<ResponseField name="success" type="boolean">
  Indicates if the request was successful

  Example: `true`
</ResponseField>

<ResponseField name="data" type="object">
  <Expandable title="child attributes">
    <ResponseField name="data.id" type="string">
      Contact ID

      Example: `"507f1f77bcf86cd799439011"`
    </ResponseField>
    <ResponseField name="data.email" type="string">
      Contact email address

      Example: `"john.doe@example.com"`
    </ResponseField>
    <ResponseField name="data.firstName" type="string">
      Contact's first name

      Example: `"John"`
    </ResponseField>
    <ResponseField name="data.lastName" type="string">
      Contact's last name

      Example: `"Doe"`
    </ResponseField>
    <ResponseField name="data.userId" type="string">
      Your application's user identifier

      Example: `"user_12345"`
    </ResponseField>
    <ResponseField name="data.customFields" type="object">
      Custom contact attributes

      <Expandable title="child attributes">
        <ResponseField name="customFields.{key}" type="string">
          
        </ResponseField>
      </Expandable>
      Example:

      ```jsx
      {
        "company": "Acme Corp",
        "role": "Developer",
        "plan": "premium"
      }
      ```
    </ResponseField>
    <ResponseField name="data.createdAt" type="string">
      Contact creation timestamp

      Example: `"2024-01-15T10:30:00.000Z"`
    </ResponseField>
    <ResponseField name="data.updatedAt" type="string">
      Contact last update timestamp

      Example: `"2024-01-15T10:30:00.000Z"`
    </ResponseField>
    <ResponseField name="data.projectId" type="string">
      Project ID that the contact belongs to

      Example: `"229f1f77bcf86cd9273048038"`
    </ResponseField>
  </Expandable>
</ResponseField>