---
title: 'Introduction'
description: 'Example section for showcasing API endpoints'
---

import { SUPPORT_EMAIL } from '/snippets/custom-variables.mdx'

# API Reference

Send transactional emails programmatically using the AutoSend REST API. This guide covers the email sending endpoint, request/response formats, and best practices.

## Base URL

All API requests should be made to:

```
https://api.autosend.com/v1
```

## Authentication

All API requests require authentication using an API key. Include your API key in the `Authorization` header:

```bash
Authorization: Bearer YOUR_API_KEY
```


## HTTP Status Codes

| Code  | Meaning               | Description                          |
| ----- | --------------------- | ------------------------------------ |
| `200` | OK                    | Request succeeded                    |
| `400` | Bad Request           | Invalid request parameters           |
| `401` | Unauthorized          | Missing or invalid API key           |
| `403` | Forbidden             | API key doesn't have required access |
| `404` | Not Found             | Resource doesn't exist               |
| `429` | Too Many Requests     | Rate limit exceeded                  |
| `500` | Internal Server Error | Something went wrong on our end      |
| `503` | Service Unavailable   | Temporary service outage             |

## Rate Limits

API keys are subject to the following rate limits:

- **2 requests per second** per API key
- **50 requests per minute** per API key

When you exceed the rate limit, you'll receive a `429 Too Many Requests` response with a `retryAfter` field indicating how many seconds to wait.

### Rate Limit Headers

Each API response includes rate limit information:

```
X-RateLimit-Limit: 50
X-RateLimit-Remaining: 45
X-RateLimit-Reset: 1696075200
```

### Handling Rate Limits

Implement exponential backoff when receiving 429 errors:

```javascript
async function sendEmailWithRetry(data, maxRetries = 3) {
  for (let i = 0; i < maxRetries; i++) {
    try {
      const response = await sendEmail(data);
      return response;
    } catch (error) {
      if (error.status === 429 && i < maxRetries - 1) {
        const waitTime = Math.pow(2, i) * 1000; // Exponential backoff
        await new Promise((resolve) => setTimeout(resolve, waitTime));
      } else {
        throw error;
      }
    }
  }
}
```

## Dynamic Data & Personalization

Use Handlebars syntax for template variables:

```html
<h1>Hello {{firstName}}!</h1>
<p>Your order #{{orderNumber}} has been shipped.</p>
<p>Total: {{orderTotal}}</p>
```

Provide values in the `dynamicData` object:

```json
{
  "html": "<h1>Hello {{firstName}}!</h1>",
  "dynamicData": {
    "firstName": "Jane",
    "orderNumber": "12345",
    "orderTotal": "$99.99"
  }
}
```

## Idempotency

To safely retry requests without duplicate operations, use idempotency keys:

```bash
curl -X POST https://api.autosend.com/v1/mails/send \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -H "Idempotency-Key: unique-request-id-12345" \
  -d '...'
```

If you retry a request with the same idempotency key within 24 hours, you'll receive the same response without sending a duplicate email.

## Testing

Use the `test` flag to validate your integration without sending actual emails:

```json
{
  "to": { "email": "test@example.com" },
  "from": { "email": "hello@mail.yourdomain.com" },
  "subject": "Test Email",
  "html": "<p>Testing</p>",
  "test": true
}
```

Test emails are processed but not delivered, allowing you to verify your integration without impacting statistics.


## Best Practices

### 1. Use Environment Variables

Never hardcode API keys in your source code:

```javascript
const API_KEY = process.env.AUTOSEND_API_KEY;
```

### 2. Implement Error Handling

Always handle errors appropriately:

```javascript
try {
  const response = await sendEmail(data);
  console.log("Email sent:", response.data.emailId);
} catch (error) {
  if (error.response?.status === 429) {
    // Rate limit - retry later
  } else if (error.response?.status === 400) {
    // Validation error - fix the data
  } else {
    // Other error - log and alert
  }
}
```

### 3. Validate Email Addresses

Validate email addresses before sending to reduce bounces:

```javascript
function isValidEmail(email) {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email);
}
```

### 4. Use Verified Domains

Always send from verified domains to ensure deliverability. [Learn how to verify domains →](/domain-configuration)

### 5. Include Unsubscribe Links

For marketing emails, always include unsubscribe links to comply with regulations and maintain good sender reputation.

## Common Errors

### Domain Not Verified

**Error:**

```json
{
  "success": false,
  "message": "Domain not verified"
}
```

**Solution:** Verify your sending domain in Settings > Domains. [Domain verification guide →](/domain-configuration)

### Invalid Email Format

**Error:**

```json
{
  "success": false,
  "message": "Validation failed",
  "errors": [{ "field": "to.email", "message": "Invalid email format" }]
}
```

**Solution:** Ensure email addresses follow the correct format: `user@example.com`

### Missing Content

**Error:**

```json
{
  "success": false,
  "message": "Either templateId or html/text content must be provided"
}
```

**Solution:** Provide either a `templateId` or `html`/`text` content in your request.

## Need Help?

If you're experiencing issues with the API, please contact support  <a  href={`mailto:${SUPPORT_EMAIL}`}> {SUPPORT_EMAIL}
</a> .
